# ===================================================================
# ПРИМЕР ПЕРЕМЕННЫХ ОКРУЖЕНИЯ ДЛЯ AI-АССИСТЕНТА
# ===================================================================
# Скопируйте этот файл в .env и отредактируйте под свои нужды
# Большинство параметров уже оптимизированы для P104-100 8GB VRAM

# ---------------------------------------------------------------
# ОСНОВНЫЕ ПУТИ
# ---------------------------------------------------------------
# Директория с данными проекта
AGENT_HOME=/app/data

# Поддиректории (не меняйте без необходимости)
MODEL_CACHE_PATH=/app/data/models
DOCUMENT_PATH=/app/data/documents
CACHE_PATH=/app/data/cache
VSCODE_PROJECTS_PATH=/app/data/vscode_projects

# ---------------------------------------------------------------
# GPU НАСТРОЙКИ (КРИТИЧНО ДЛЯ 8GB VRAM)
# ---------------------------------------------------------------
# CUDA устройство (0 для первой GPU)
CUDA_VISIBLE_DEVICES=0

# Оптимизации PyTorch allocator (экономия памяти)
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:128,garbage_collection_threshold:0.6

# Ограничение потоков (экономия RAM)
OMP_NUM_THREADS=1

# Отключение параллелизма в tokenizers (стабильность)
TOKENIZERS_PARALLELISM=false

# ---------------------------------------------------------------
# НАСТРОЙКИ МОДЕЛИ (МОЖНО ИЗМЕНИТЬ ПОД СВОИ ЗАДАЧИ)
# ---------------------------------------------------------------
# Температура генерации (0.3=точный, 0.7=креативный)
DEFAULT_TEMPERATURE=0.7

# Температура для кода (меньше = точнее)
CODE_TEMPERATURE=0.3

# Максимальная длина ответа (токены)
MAX_NEW_TOKENS=1024

# Максимальный размер файла для анализа (токены)
MAX_FILE_TOKENS=1500

# ---------------------------------------------------------------
# НАСТРОЙКИ RAG (ПОИСК)
# ---------------------------------------------------------------
# Количество результатов поиска
SEARCH_K=5

# Порог схожести (0.0-1.0)
SIMILARITY_THRESHOLD=0.75

# ---------------------------------------------------------------
# НАСТРОЙКИ ОБУЧЕНИЯ (LoRA)
# ---------------------------------------------------------------
# Количество эпох обучения
NUM_TRAIN_EPOCHS=3

# Ранг LoRA (16 для 8GB, 32 для 12GB+)
LORA_R=16

# Скорость обучения
LEARNING_RATE=2e-5

# ---------------------------------------------------------------
# IDE ИНТЕГРАЦИЯ
# ---------------------------------------------------------------
# Максимальная глубина сканирования проекта
MAX_SCAN_DEPTH=5

# Файлы и директории для игнорирования (через запятую)
IGNORE_PATTERNS=*.class,*.o,*.so,*.dll,*.exe,*.log,*.tmp,*.temp,*.cache,.git,.svn,.idea,.vscode,node_modules,dist,build,target,out,.gradle

# ---------------------------------------------------------------
# РАЗРАБОТКА / ДЕБАГ
# ---------------------------------------------------------------
# Уровень логирования (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Включить детальное логирование обучения
TRAINING_VERBOSE=true

# Сохранять промежуточные чекпоинты
SAVE_CHECKPOINTS=true

# ---------------------------------------------------------------
# API НАСТРОЙКИ (ЕСЛИ ИСПОЛЬЗУЕТЕ API РЕЖИМ)
# ---------------------------------------------------------------
# Порт для API (опционально)
API_PORT=8000

# Хост для API
API_HOST=0.0.0.0

# CORS origins (через запятую)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ---------------------------------------------------------------
# ПРОИЗВОДИТЕЛЬНОСТЬ
# ---------------------------------------------------------------
# Батч сайз для обработки документов (меньше = медленнее, но стабильнее)
DOCUMENT_BATCH_SIZE=10

# Задержка между запросами (мс) - для предотвращения перегрузки GPU
REQUEST_DELAY_MS=100

# ---------------------------------------------------------------
# БЕЗОПАСНОСТЬ
# ---------------------------------------------------------------
# Максимальный размер файла (MB)
MAX_FILE_SIZE_MB=50

# Разрешённые расширения файлов (через запятую)
ALLOWED_EXTENSIONS=.py,.java,.kt,.js,.ts,.html,.css,.xml,.json,.md,.txt,.pdf,.docx

# Включить проверку типов файлов
ENABLE_FILE_VALIDATION=true